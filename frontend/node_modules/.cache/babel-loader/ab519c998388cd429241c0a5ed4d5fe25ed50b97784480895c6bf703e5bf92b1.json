{"ast":null,"code":"import api from './api';\nconst cloudService = {\n  // Get all connected cloud accounts\n  getCloudAccounts: async () => {\n    const response = await api.get('/cloud-accounts');\n    return response.data;\n  },\n  // Connect to Google Drive\n  connectGoogleDrive: username => {\n    window.location.href = `http://localhost:8080/oauth2/authorize/google?username=${username}`;\n  },\n  // Connect to OneDrive\n  connectOneDrive: username => {\n    window.location.href = `http://localhost:8080/oauth2/authorize/onedrive?username=${username}`;\n  },\n  // Get files from a cloud account\n  getFiles: async accountId => {\n    const response = await api.get(`/cloud-accounts/${accountId}/files`);\n    return response.data;\n  },\n  // Upload file to cloud account\n  uploadFile: async (accountId, file, onProgress) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await api.post(`/cloud-accounts/${accountId}/upload`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      onUploadProgress: progressEvent => {\n        if (onProgress) {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          onProgress(percentCompleted);\n        }\n      }\n    });\n    return response.data;\n  },\n  // Download file\n  downloadFile: async (fileId, fileName) => {\n    try {\n      const response = await api.get(`/cloud-accounts/files/${fileId}/download`, {\n        responseType: 'blob'\n      });\n\n      // Create download link\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n\n      // Get filename from Content-Disposition header if available\n      const contentDisposition = response.headers['content-disposition'];\n      let downloadFileName = fileName;\n      if (contentDisposition) {\n        const filenameMatch = contentDisposition.match(/filename=\"?(.+)\"?/i);\n        if (filenameMatch && filenameMatch[1]) {\n          downloadFileName = filenameMatch[1];\n        }\n      }\n      link.setAttribute('download', downloadFileName);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n\n      // Clean up\n      setTimeout(() => {\n        window.URL.revokeObjectURL(url);\n      }, 100);\n    } catch (error) {\n      console.error('Download error:', error);\n      throw error;\n    }\n  },\n  // Delete file\n  deleteFile: async fileId => {\n    const response = await api.delete(`/cloud-accounts/files/${fileId}`);\n    return response.data;\n  },\n  // Rename file\n  renameFile: async (fileId, newName) => {\n    const response = await api.put(`/cloud-accounts/files/${fileId}/rename`, {\n      newName\n    });\n    return response.data;\n  }\n};\nexport default cloudService;","map":{"version":3,"names":["api","cloudService","getCloudAccounts","response","get","data","connectGoogleDrive","username","window","location","href","connectOneDrive","getFiles","accountId","uploadFile","file","onProgress","formData","FormData","append","post","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","downloadFile","fileId","fileName","responseType","url","URL","createObjectURL","Blob","link","document","createElement","contentDisposition","downloadFileName","filenameMatch","match","setAttribute","body","appendChild","click","remove","setTimeout","revokeObjectURL","error","console","deleteFile","delete","renameFile","newName","put"],"sources":["/Users/vivek/Desktop/multi-cloud-storage/frontend/src/services/cloudService.js"],"sourcesContent":["import api from './api';\n\nconst cloudService = {\n  // Get all connected cloud accounts\n  getCloudAccounts: async () => {\n    const response = await api.get('/cloud-accounts');\n    return response.data;\n  },\n\n  // Connect to Google Drive\n  connectGoogleDrive: (username) => {\n    window.location.href = `http://localhost:8080/oauth2/authorize/google?username=${username}`;\n  },\n\n  // Connect to OneDrive\n  connectOneDrive: (username) => {\n    window.location.href = `http://localhost:8080/oauth2/authorize/onedrive?username=${username}`;\n  },\n\n  // Get files from a cloud account\n  getFiles: async (accountId) => {\n    const response = await api.get(`/cloud-accounts/${accountId}/files`);\n    return response.data;\n  },\n\n  // Upload file to cloud account\n  uploadFile: async (accountId, file, onProgress) => {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const response = await api.post(\n      `/cloud-accounts/${accountId}/upload`,\n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        onUploadProgress: (progressEvent) => {\n          if (onProgress) {\n            const percentCompleted = Math.round(\n              (progressEvent.loaded * 100) / progressEvent.total\n            );\n            onProgress(percentCompleted);\n          }\n        },\n      }\n    );\n    return response.data;\n  },\n\n  // Download file\ndownloadFile: async (fileId, fileName) => {\n  try {\n    const response = await api.get(`/cloud-accounts/files/${fileId}/download`, {\n      responseType: 'blob',\n    });\n    \n    // Create download link\n    const url = window.URL.createObjectURL(new Blob([response.data]));\n    const link = document.createElement('a');\n    link.href = url;\n    \n    // Get filename from Content-Disposition header if available\n    const contentDisposition = response.headers['content-disposition'];\n    let downloadFileName = fileName;\n    \n    if (contentDisposition) {\n      const filenameMatch = contentDisposition.match(/filename=\"?(.+)\"?/i);\n      if (filenameMatch && filenameMatch[1]) {\n        downloadFileName = filenameMatch[1];\n      }\n    }\n    \n    link.setAttribute('download', downloadFileName);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n    \n    // Clean up\n    setTimeout(() => {\n      window.URL.revokeObjectURL(url);\n    }, 100);\n  } catch (error) {\n    console.error('Download error:', error);\n    throw error;\n  }\n},\n\n  // Delete file\n  deleteFile: async (fileId) => {\n    const response = await api.delete(`/cloud-accounts/files/${fileId}`);\n    return response.data;\n  },\n\n  // Rename file\n  renameFile: async (fileId, newName) => {\n    const response = await api.put(`/cloud-accounts/files/${fileId}/rename`, {\n      newName,\n    });\n    return response.data;\n  },\n};\n\nexport default cloudService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
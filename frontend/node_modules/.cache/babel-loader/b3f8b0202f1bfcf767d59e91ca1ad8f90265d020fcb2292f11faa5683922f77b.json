{"ast":null,"code":"var _jsxFileName = \"/Users/vivek/Desktop/multi-cloud-storage/frontend/src/components/dashboard/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { useCloud } from '../../context/CloudContext';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport CloudAccountCard from './CloudAccountCard';\nimport FileManager from '../files/FileManager';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const {\n    cloudAccounts,\n    fetchCloudAccounts,\n    connectGoogleDrive\n  } = useCloud();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [showSuccess, setShowSuccess] = useState(false);\n  useEffect(() => {\n    // Check if returning from OAuth\n    const connected = searchParams.get('connected');\n    const error = searchParams.get('error');\n    if (connected === 'google') {\n      setShowSuccess(true);\n      fetchCloudAccounts();\n      setTimeout(() => setShowSuccess(false), 5000);\n    }\n    if (error) {\n      alert('Error connecting to cloud: ' + error);\n    }\n  }, [searchParams]);\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"dashboard-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Multi-Cloud Storage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.username, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"btn-logout\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), showSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-banner\",\n      children: \"\\u2713 Successfully connected to Google Drive!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"sidebar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Cloud Accounts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-connect-cloud\",\n            onClick: connectGoogleDrive,\n            children: \"+ Connect Google Drive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cloud-accounts-list\",\n            children: cloudAccounts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"no-accounts\",\n              children: \"No cloud accounts connected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this) : cloudAccounts.map(account => /*#__PURE__*/_jsxDEV(CloudAccountCard, {\n              account: account\n            }, account.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main-content\",\n        children: cloudAccounts.length > 0 ? /*#__PURE__*/_jsxDEV(FileManager, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Welcome to Multi-Cloud Storage!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Connect your cloud accounts to get started.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: connectGoogleDrive,\n            children: \"Connect Google Drive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"Q58H4bPgs8+sidNGAg6DJlJmNdU=\", false, function () {\n  return [useAuth, useCloud, useNavigate, useSearchParams];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useAuth","useCloud","useNavigate","useSearchParams","CloudAccountCard","FileManager","jsxDEV","_jsxDEV","Dashboard","_s","user","logout","cloudAccounts","fetchCloudAccounts","connectGoogleDrive","navigate","searchParams","showSuccess","setShowSuccess","connected","get","error","setTimeout","alert","handleLogout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","username","onClick","length","map","account","id","_c","$RefreshReg$"],"sources":["/Users/vivek/Desktop/multi-cloud-storage/frontend/src/components/dashboard/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { useCloud } from '../../context/CloudContext';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport CloudAccountCard from './CloudAccountCard';\nimport FileManager from '../files/FileManager';\nimport './Dashboard.css';\n\nconst Dashboard = () => {\n  const { user, logout } = useAuth();\n  const { cloudAccounts, fetchCloudAccounts, connectGoogleDrive } = useCloud();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  useEffect(() => {\n    // Check if returning from OAuth\n    const connected = searchParams.get('connected');\n    const error = searchParams.get('error');\n\n    if (connected === 'google') {\n      setShowSuccess(true);\n      fetchCloudAccounts();\n      setTimeout(() => setShowSuccess(false), 5000);\n    }\n\n    if (error) {\n      alert('Error connecting to cloud: ' + error);\n    }\n  }, [searchParams]);\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  return (\n    <div className=\"dashboard\">\n      <nav className=\"dashboard-nav\">\n        <h1>Multi-Cloud Storage</h1>\n        <div className=\"user-info\">\n          <span>Welcome, {user?.username}!</span>\n          <button onClick={handleLogout} className=\"btn-logout\">\n            Logout\n          </button>\n        </div>\n      </nav>\n\n      {showSuccess && (\n        <div className=\"success-banner\">\n          âœ“ Successfully connected to Google Drive!\n        </div>\n      )}\n\n      <div className=\"dashboard-container\">\n        <aside className=\"sidebar\">\n          <div className=\"sidebar-section\">\n            <h3>Cloud Accounts</h3>\n            <button\n              className=\"btn-connect-cloud\"\n              onClick={connectGoogleDrive}\n            >\n              + Connect Google Drive\n            </button>\n\n            <div className=\"cloud-accounts-list\">\n              {cloudAccounts.length === 0 ? (\n                <p className=\"no-accounts\">No cloud accounts connected</p>\n              ) : (\n                cloudAccounts.map((account) => (\n                  <CloudAccountCard key={account.id} account={account} />\n                ))\n              )}\n            </div>\n          </div>\n        </aside>\n\n        <main className=\"main-content\">\n          {cloudAccounts.length > 0 ? (\n            <FileManager />\n          ) : (\n            <div className=\"empty-state\">\n              <h2>Welcome to Multi-Cloud Storage!</h2>\n              <p>Connect your cloud accounts to get started.</p>\n              <button\n                className=\"btn-primary\"\n                onClick={connectGoogleDrive}\n              >\n                Connect Google Drive\n              </button>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
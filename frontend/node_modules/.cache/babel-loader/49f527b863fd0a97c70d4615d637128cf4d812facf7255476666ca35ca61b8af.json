{"ast":null,"code":"import api from './api';\nconst cloudService = {\n  // Get all connected cloud accounts\n  getCloudAccounts: async () => {\n    const response = await api.get('/cloud-accounts');\n    return response.data;\n  },\n  // Connect to Google Drive\n  connectGoogleDrive: username => {\n    window.location.href = `http://localhost:8080/oauth2/authorize/google?username=${username}`;\n  },\n  // Connect to OneDrive\n  connectOneDrive: username => {\n    window.location.href = `http://localhost:8080/oauth2/authorize/onedrive?username=${username}`;\n  },\n  // Get files from a cloud account\n  getFiles: async accountId => {\n    const response = await api.get(`/cloud-accounts/${accountId}/files`);\n    return response.data;\n  },\n  // Upload file to cloud account\n  uploadFile: async (accountId, file, onProgress) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await api.post(`/cloud-accounts/${accountId}/upload`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      onUploadProgress: progressEvent => {\n        if (onProgress) {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          onProgress(percentCompleted);\n        }\n      }\n    });\n    return response.data;\n  },\n  // Download file\n  downloadFile: async (fileId, fileName) => {\n    const response = await api.get(`/cloud-accounts/files/${fileId}/download`, {\n      responseType: 'blob'\n    });\n\n    // Create download link\n    const url = window.URL.createObjectURL(new Blob([response.data]));\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', fileName);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n    window.URL.revokeObjectURL(url);\n  },\n  // Delete file\n  deleteFile: async fileId => {\n    const response = await api.delete(`/cloud-accounts/files/${fileId}`);\n    return response.data;\n  },\n  // Rename file\n  renameFile: async (fileId, newName) => {\n    const response = await api.put(`/cloud-accounts/files/${fileId}/rename`, {\n      newName\n    });\n    return response.data;\n  }\n};\nexport default cloudService;","map":{"version":3,"names":["api","cloudService","getCloudAccounts","response","get","data","connectGoogleDrive","username","window","location","href","connectOneDrive","getFiles","accountId","uploadFile","file","onProgress","formData","FormData","append","post","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","downloadFile","fileId","fileName","responseType","url","URL","createObjectURL","Blob","link","document","createElement","setAttribute","body","appendChild","click","remove","revokeObjectURL","deleteFile","delete","renameFile","newName","put"],"sources":["/Users/vivek/Desktop/multi-cloud-storage/frontend/src/services/cloudService.js"],"sourcesContent":["import api from './api';\n\nconst cloudService = {\n  // Get all connected cloud accounts\n  getCloudAccounts: async () => {\n    const response = await api.get('/cloud-accounts');\n    return response.data;\n  },\n\n  // Connect to Google Drive\n  connectGoogleDrive: (username) => {\n    window.location.href = `http://localhost:8080/oauth2/authorize/google?username=${username}`;\n  },\n\n  // Connect to OneDrive\n  connectOneDrive: (username) => {\n    window.location.href = `http://localhost:8080/oauth2/authorize/onedrive?username=${username}`;\n  },\n\n  // Get files from a cloud account\n  getFiles: async (accountId) => {\n    const response = await api.get(`/cloud-accounts/${accountId}/files`);\n    return response.data;\n  },\n\n  // Upload file to cloud account\n  uploadFile: async (accountId, file, onProgress) => {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const response = await api.post(\n      `/cloud-accounts/${accountId}/upload`,\n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        onUploadProgress: (progressEvent) => {\n          if (onProgress) {\n            const percentCompleted = Math.round(\n              (progressEvent.loaded * 100) / progressEvent.total\n            );\n            onProgress(percentCompleted);\n          }\n        },\n      }\n    );\n    return response.data;\n  },\n\n  // Download file\n  downloadFile: async (fileId, fileName) => {\n    const response = await api.get(`/cloud-accounts/files/${fileId}/download`, {\n      responseType: 'blob',\n    });\n    \n    // Create download link\n    const url = window.URL.createObjectURL(new Blob([response.data]));\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', fileName);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n    window.URL.revokeObjectURL(url);\n  },\n\n  // Delete file\n  deleteFile: async (fileId) => {\n    const response = await api.delete(`/cloud-accounts/files/${fileId}`);\n    return response.data;\n  },\n\n  // Rename file\n  renameFile: async (fileId, newName) => {\n    const response = await api.put(`/cloud-accounts/files/${fileId}/rename`, {\n      newName,\n    });\n    return response.data;\n  },\n};\n\nexport default cloudService;"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,YAAY,GAAG;EACnB;EACAC,gBAAgB,EAAE,MAAAA,CAAA,KAAY;IAC5B,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAC,iBAAiB,CAAC;IACjD,OAAOD,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAC,kBAAkB,EAAGC,QAAQ,IAAK;IAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,0DAA0DH,QAAQ,EAAE;EAC7F,CAAC;EAED;EACAI,eAAe,EAAGJ,QAAQ,IAAK;IAC7BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,4DAA4DH,QAAQ,EAAE;EAC/F,CAAC;EAED;EACAK,QAAQ,EAAE,MAAOC,SAAS,IAAK;IAC7B,MAAMV,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAC,mBAAmBS,SAAS,QAAQ,CAAC;IACpE,OAAOV,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAS,UAAU,EAAE,MAAAA,CAAOD,SAAS,EAAEE,IAAI,EAAEC,UAAU,KAAK;IACjD,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;IAE7B,MAAMZ,QAAQ,GAAG,MAAMH,GAAG,CAACoB,IAAI,CAC7B,mBAAmBP,SAAS,SAAS,EACrCI,QAAQ,EACR;MACEI,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,gBAAgB,EAAGC,aAAa,IAAK;QACnC,IAAIP,UAAU,EAAE;UACd,MAAMQ,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAChCH,aAAa,CAACI,MAAM,GAAG,GAAG,GAAIJ,aAAa,CAACK,KAC/C,CAAC;UACDZ,UAAU,CAACQ,gBAAgB,CAAC;QAC9B;MACF;IACF,CACF,CAAC;IACD,OAAOrB,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACAwB,YAAY,EAAE,MAAAA,CAAOC,MAAM,EAAEC,QAAQ,KAAK;IACxC,MAAM5B,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAC,yBAAyB0B,MAAM,WAAW,EAAE;MACzEE,YAAY,EAAE;IAChB,CAAC,CAAC;;IAEF;IACA,MAAMC,GAAG,GAAGzB,MAAM,CAAC0B,GAAG,CAACC,eAAe,CAAC,IAAIC,IAAI,CAAC,CAACjC,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC;IACjE,MAAMgC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACxCF,IAAI,CAAC3B,IAAI,GAAGuB,GAAG;IACfI,IAAI,CAACG,YAAY,CAAC,UAAU,EAAET,QAAQ,CAAC;IACvCO,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,IAAI,CAAC;IAC/BA,IAAI,CAACM,KAAK,CAAC,CAAC;IACZN,IAAI,CAACO,MAAM,CAAC,CAAC;IACbpC,MAAM,CAAC0B,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC;EACjC,CAAC;EAED;EACAa,UAAU,EAAE,MAAOhB,MAAM,IAAK;IAC5B,MAAM3B,QAAQ,GAAG,MAAMH,GAAG,CAAC+C,MAAM,CAAC,yBAAyBjB,MAAM,EAAE,CAAC;IACpE,OAAO3B,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED;EACA2C,UAAU,EAAE,MAAAA,CAAOlB,MAAM,EAAEmB,OAAO,KAAK;IACrC,MAAM9C,QAAQ,GAAG,MAAMH,GAAG,CAACkD,GAAG,CAAC,yBAAyBpB,MAAM,SAAS,EAAE;MACvEmB;IACF,CAAC,CAAC;IACF,OAAO9C,QAAQ,CAACE,IAAI;EACtB;AACF,CAAC;AAED,eAAeJ,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}